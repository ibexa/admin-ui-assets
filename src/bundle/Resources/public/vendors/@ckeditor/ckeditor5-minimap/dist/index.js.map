{"version":3,"sources":["index.js","../src/minimapiframeview.ts","../src/minimappositiontrackerview.ts","../src/minimapview.ts","../src/utils.ts","../src/minimap.ts"],"names":["toPx","toUnit","MinimapIframeView","IframeView","_options","locale","options","bind","bindTemplate","set","extendTemplate","attributes","tabindex","class","style","top","to","height","render","then","_prepareDocument","setHeight","newHeight","setTopOffset","newOffset","iframeDocument","element","contentWindow","document","domRootClone","adoptNode","boxStyles","useSimplePreview","pageStyles","map","definition","href","join","html","scaleRatio","extraClasses","open","write","close","body","appendChild","MinimapPositionTrackerView","View","setTemplate","tag","if","on","mousedown","_isDragging","listenTo","global","evt","data","fire","movementY","useCapture","setScrollProgress","newProgress","scrollProgress","MinimapView","_positionTrackerView","_scaleRatio","_minimapIframeView","delegate","children","click","_handleMinimapClick","wheel","_handleMinimapMouseWheel","destroy","Rect","scrollHeight","Math","max","min","setContentHeight","newScrollProgress","iframeView","positionTrackerView","totalOffset","round","setPositionTrackerHeight","trackerHeight","target","trackerViewRect","diff","clientY","percentage","deltaY","cloneEditingViewDomRoot","editor","rootName","viewDocument","editing","view","viewRoot","getRoot","domConverter","DomConverter","renderer","Renderer","selection","getDomRoot","cloneNode","bindElements","markToSync","node","unbindDomElement","getPageStyles","Array","from","styleSheets","styleSheet","startsWith","window","location","origin","cssRules","filter","rule","CSSMediaRule","cssText","getDomElementRect","domElement","getClientHeight","innerHeight","clientHeight","getScrollable","Minimap","Plugin","pluginName","isOfficialPlugin","_minimapView","_scrollableRootAncestor","_editingRootElement","init","ui","_onUiReady","remove","editingRootElement","getEditableElement","findClosestScrollableAncestor","ownerDocument","contains","once","_initializeMinimapView","state","_syncMinimapToEditingRootScrollPosition","config","get","minimapContainerElement","scrollableRootAncestor","editingRootElementWidth","width","minimapContainerWidth","minimapScaleRatio","minimapView","usePassive","movementYPercentage","absoluteScrollProgress","scrollable","scrollBy","offsetHeight","editingRootRect","scrollableRootAncestorRect","getIntersection"],"mappings":";;;;AAAA,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;AAC/D,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,6BAA6B,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;AAC7G,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;AACvE,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;;ACUjF,KAAA,CAAMA,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,QAAAA,CAAAA,CAAAA,CAAAA,CAAuBC,MAAAA,CAAQ,CAAA,EAAA,CAAA,CAAA;AAErC,CAAA,CAAA;ADRA,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO;AAC9D,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CCUY,KAAA,CAAMC,iBAAAA,CAAAA,OAAAA,CAA0BC,UAAAA,CAAAA;AAe9C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ADvBD,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO;ACyB7D,CAAA,CAAA,CAAA,CAAA,CACD,QAAiBC;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ADzBD,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM;AC2BpD,CAAA,CAAA,CAAA,CAAA,CACD,WAAA,CAAaC,MAAc,CAAA,CAAEC,OAA2B,CAAG;AAC1D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAAED,MAAAA,CAAAA;AD1BT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC4BL,KAAA,CAAME,IAAAA,CAAAA,CAAAA,CAAO,IAAI,CAACC,YAAY;AD3BhC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC6BL,IAAI,CAACC,GAAG,CAAE,CAAA,GAAA,CAAA,CAAA,CAAO,CAAA,CAAA;AD5BnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC8BL,IAAI,CAACA,GAAG,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,CAAA,CAAA;AD7BtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC+BL,IAAI,CAACL,QAAQ,CAAA,CAAA,CAAGE,OAAAA;AD9BlB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCgCL,IAAI,CAACI,cAAc,CAAE;AD/BvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCgCRC,UAAAA,CAAAA,CAAY;AACXC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,QAAAA,CAAAA,CAAU,CAAA,CAAC;AD/Bf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCgCX,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAAe,CAAA,IAAA,CAAA;AD/BnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCgCXC,KAAAA,CAAAA,CAAO;AACN,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,eAAA;AACA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AD/BL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCgCXC,KAAAA,CAAAA,CAAO;AACNC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAKR,IAAAA,CAAKS,EAAE,CAAE,CAAA,GAAA,CAAA,CAAA,CAAOD,CAAAA,GAAAA,CAAAA,CAAAA,CAAOf,IAAAA,CAAAA,CAAAA,CAAMe,GAAAA,CAAAA,CAAAA;AAClCE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,MAAAA,CAAAA,CAAQV,IAAAA,CAAKS,EAAE,CAAE,CAAA,MAAA,CAAA,CAAA,CAAUC,CAAAA,MAAAA,CAAAA,CAAAA,CAAUjB,IAAAA,CAAAA,CAAAA,CAAMiB,MAAAA,CAAAA;AAC5C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ADhCD,CAAC,CAAC,CAAC,CAAC,CAAC;ACkCH,CAAA,CAAA,CAAA,CAAA,CACD,MAAgBC,CAAAA,CAAAA,CAA2B;AAC1C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,KAAK,CAACA,MAAAA,CAAAA,CAAAA,CAASC,IAAI,CAAE,CAAA,CAAA,CAAA,CAAA;AAC3B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACC,gBAAgB,CAAA,CAAA;AACtB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ADlCD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM;AACrC,CAAC,CAAC,CAAC,CAAC,CCoCIC,SAAAA,CAAWC,SAAiB,CAAA,CAAS;ADnC7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCoCL,IAAI,CAACL,MAAM,CAAA,CAAA,CAAGK,SAAAA;AACf,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ADpCD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU;AAClE,CAAC,CAAC,CAAC,CAAC,CCsCIC,YAAAA,CAAcC,SAAiB,CAAA,CAAS;ADrChD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCsCL,IAAI,CAACT,GAAG,CAAA,CAAA,CAAGS,SAAAA;AACZ,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ADtCD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC;AACzE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO;ACwCjB,CAAA,CAAA,CAAA,CAAA,CACD,gBAAQJ,CAAAA,CAAAA,CAAyB;AAChC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMK,cAAAA,CAAAA,CAAAA,CAAiB,IAAI,CAACC,OAAO,CAAEC,aAAa,CAAEC,QAAQ;ADvC9D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CCwCL,KAAA,CAAMC,YAAAA,CAAAA,CAAAA,CAAeJ,cAAAA,CAAeK,SAAS,CAAE,IAAI,CAAC1B,QAAQ,CAACyB,YAAY,CAAA;AAEzE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAME,SAAAA,CAAAA,CAAAA,CAAY,IAAI,CAAC3B,QAAQ,CAAC4B,gBAAgB,CAAA,CAAA,CAAG;ADxCrD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,uBAAuB,CAAC,GAAG,CAAC;AACtC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC;;AAEH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;AAC9B,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS;AAC1C,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS;AACrC,CAAC,CAAC,CAAC;;AAEH,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;AAClB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS;AAC1C,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS;AACrC,CAAC,CAAC,CAAC;AC0CD,CAAA,CAAA,CAAC,CAAA,CAAA,CAAG,CAAA,CAAA;ADxCN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC0CL,KAAA,CAAMC,UAAAA,CAAAA,CAAAA,CAAa,IAAI,CAAC7B,QAAQ,CAAC6B,UAAU,CAACC,GAAG,CAAEC,CAAAA,UAAAA,CAAAA,CAAAA,CAAAA;ADzCnD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC0CR,EAAA,CAAA,CAAK,MAAA,CAAOA,UAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAe,CAAA,MAAA,CAAA,CAAA,CAAW;AACrC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA,KAAA,CAAO,CAAA,CAAGA,UAAAA,CAAY,CAAA,CAAA,KAAA,CAAQ,CAAC;ADzC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC0CT,CAAA,IAAA,CAAO;AACN,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,UAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAA6C,CAAA,CAAGA,UAAAA,CAAWC,IAAI,CAAE,CAAA,CAAE,CAAC;AAC7E,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAIC,IAAI,CAAE,CAAA,CAAA,CAAA,CAAA,CAAA;AAEV,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMC,IAAAA,CAAAA,CAAAA,CAAO,CAAC,CAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,CAAA;AD1ChB,CAAC,CAAC,CAAC,CAAC,IAAI;AACR,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACzB,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AC4CnE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAGL,UAAAA;AD1CP,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK;AACV,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;AAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;AAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;AAC3B,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEL,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM;AACtB,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEL,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AC4Cc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAG,IAAI,CAAC7B,QAAQ,CAACmC,UAAU,CAAE,CAAA,CAAA;AD1CrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO;AACvB,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,uBAAuB,CAAC;AACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;AAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC,SAAS;AAC1C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC,SAAS;AAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS;AACjC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC;AACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK;AACvB,CAAC,CAAC,CAAC,CAAC,CAAC;;AC6CA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAGR,SAAAA;AD1CR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK;AACX,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;AC4CO,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAG,IAAI,CAAC3B,QAAQ,CAACoC,YAAY,CAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,IAAA;AD1CrD,CAAC,CAAC,CAAC,CAAC,IAAI,CC2CC,CAAC;AAERf,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,cAAAA,CAAegB,IAAI,CAAA,CAAA;AACnBhB,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,cAAAA,CAAeiB,KAAK,CAAEJ,IAAAA,CAAAA;AACtBb,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,cAAAA,CAAekB,KAAK,CAAA,CAAA;AD3CtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CC4CLlB,cAAAA,CAAemB,IAAI,CAACC,WAAW,CAAEhB,YAAAA,CAAAA;AAClC,CAAA,CAAA,CAAA,CAAA;AACD;;AC1JA,KAAA,CAAM7B,IAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,QAAAA,CAAAA,CAAAA,CAAAA,CAAuBC,MAAAA,CAAQ,CAAA,EAAA,CAAA,CAAA;AAErC,CAAA,CAAA;AFgHA,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO;AACjG,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CE9GY,KAAA,CAAM6C,0BAAAA,CAAAA,OAAAA,CAAmCC,IAAAA,CAAAA;AA8BvD,CAAA,CAAA,CAAA,CAAA,WAAA,CAAa1C,MAAc,CAAG;AAC7B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAAEA,MAAAA,CAAAA;AFkFT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CEhFL,KAAA,CAAME,IAAAA,CAAAA,CAAAA,CAAO,IAAI,CAACC,YAAY;AFiFhC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE/EL,IAAI,CAACC,GAAG,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,CAAA,CAAA;AFgFtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE/EL,IAAI,CAACA,GAAG,CAAE,CAAA,GAAA,CAAA,CAAA,CAAO,CAAA,CAAA;AFgFnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE/EL,IAAI,CAACA,GAAG,CAAE,CAAA,cAAA,CAAA,CAAA,CAAkB,CAAA,CAAA;AFgF9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE/EL,IAAI,CAACA,GAAG,CAAE,CAAA,WAAA,CAAA,CAAA,CAAe,KAAA,CAAA;AFgF3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9EL,IAAI,CAACuC,WAAW,CAAE;AF+EpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9ERC,GAAAA,CAAAA,CAAK,CAAA,GAAA,CAAA;AF+ER,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9ERtC,UAAAA,CAAAA,CAAY;AF+Ef,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9EXE,KAAAA,CAAAA,CAAO;AACN,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA;AACA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,iBAAA,CAAA,OAAA,CAAA;AF+EL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9EdN,IAAAA,CAAK2C,EAAE,CAAE,CAAA,WAAA,CAAA,CAAA,CAAe,CAAA,EAAA,CAAA,iBAAA,CAAA,gBAAA,CAAA;AACxB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AF+EL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9EXpC,KAAAA,CAAAA,CAAO;AACNC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,GAAAA,CAAAA,CAAKR,IAAAA,CAAKS,EAAE,CAAE,CAAA,GAAA,CAAA,CAAA,CAAOD,CAAAA,GAAAA,CAAAA,CAAAA,CAAOf,IAAAA,CAAMe,GAAAA,CAAAA,CAAAA;AAClCE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,MAAAA,CAAAA,CAAQV,IAAAA,CAAKS,EAAE,CAAE,CAAA,MAAA,CAAA,CAAA,CAAUC,CAAAA,MAAAA,CAAAA,CAAAA,CAAUjB,IAAAA,CAAMiB,MAAAA,CAAAA;AAC5C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AF+EJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9EX,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAiBV,IAAAA,CAAKS,EAAE,CAAE,CAAA,cAAA,CAAA;AAC3B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AF+EH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9ERmC,EAAAA,CAAAA,CAAI;AF+EP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9EXC,SAAAA,CAAAA,CAAW7C,IAAAA,CAAKS,EAAE,CAAE,CAAA,CAAA,CAAA,CAAA;AF+ExB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE9Ed,IAAI,CAACqC,WAAW,CAAA,CAAA,CAAG,IAAA;AACpB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AF8ED,CAAC,CAAC,CAAC,CAAC,CAAC;AE5EH,CAAA,CAAA,CAAA,CAAA,CACD,MAAgBnC,CAAAA,CAAAA,CAAe;AAC9B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAACA,MAAAA,CAAAA,CAAAA;AF6ER,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE3EL,IAAI,CAACoC,QAAQ,CAAEC,MAAAA,CAAO3B,QAAQ,CAAA,CAAE,CAAA,SAAA,CAAA,CAAA,CAAa,CAAE4B,GAAAA,CAAAA,CAAKC,IAAAA,CAAAA,CAAAA,CAAAA;AACnD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAK,CAAC,IAAI,CAACJ,WAAW,CAAA,CAAG;AACxB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACK,IAAI,CAAoB,CAAA,IAAA,CAAA,CAAA,CAAQD,IAAAA,CAAKE,SAAS,CAAA;AF2EtD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE1EN,CAAA,CAAG;AF2EL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE3EJC,UAAAA,CAAAA,CAAY;AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEtB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACN,QAAQ,CAAEC,MAAAA,CAAO3B,QAAQ,CAAA,CAAE,CAAA,OAAA,CAAA,CAAA,CAAW,CAAA,CAAA,CAAA,CAAA;AF4E7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE3ER,IAAI,CAACyB,WAAW,CAAA,CAAA,CAAG,KAAA;AF4EtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE3EN,CAAA,CAAG;AF4EL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE5EJO,UAAAA,CAAAA,CAAY;AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACvB,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AF6ED,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI;AACjG,CAAC,CAAC,CAAC,CAAC,CE3EIvC,SAAAA,CAAWC,SAAiB,CAAA,CAAS;AF4E7C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CE3EL,IAAI,CAACL,MAAM,CAAA,CAAA,CAAGK,SAAAA;AACf,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AF2ED,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU;AACnE,CAAC,CAAC,CAAC,CAAC,CEzEIC,YAAAA,CAAcC,SAAiB,CAAA,CAAS;AF0EhD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CEzEL,IAAI,CAACT,GAAG,CAAA,CAAA,CAAGS,SAAAA;AACZ,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AFyED,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO;AACtG,CAAC,CAAC,CAAC,CAAC,CEvEIqC,iBAAAA,CAAmBC,WAAmB,CAAA,CAAS;AFwEvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CEvEL,IAAI,CAACC,cAAc,CAAA,CAAA,CAAGD,WAAAA;AACvB,CAAA,CAAA,CAAA,CAAA;AACD;;AClGA,CAAA,CAAA;AH4KA,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;AAChG,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC;AAC5G,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CG1KY,KAAA,CAAME,WAAAA,CAAAA,OAAAA,CAAoBjB,IAAAA,CAAAA;AACxC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH2KD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO;AGzK5D,CAAA,CAAA,CAAA,CAAA,CACD,oBAAiBkB;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHyKD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO;AGvK3F,CAAA,CAAA,CAAA,CAAA,CACD,WAAiBC;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHuKD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO;AGrKvD,CAAA,CAAA,CAAA,CAAA,CACD,kBAAiBC;AAEjB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHqKD,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI;AGnKzC,CAAA,CAAA,CAAA,CAAA,CACD,WAAA,CACC,CAAA,CAAE9D,MAAM,CAAA,CAAEkC,UAAU,CAAA,CAAEN,UAAU,CAAA,CAAEO,YAAY,CAAA,CAAER,gBAAgB,CAAA,CAAEH,YAAY,CAAA,CAA2C,CACxH;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAAExB,MAAAA,CAAAA;AHkKT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGhKL,KAAA,CAAME,IAAAA,CAAAA,CAAAA,CAAO,IAAI,CAACC,YAAY;AAE9B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACyD,oBAAoB,CAAA,CAAA,CAAG,GAAA,CAAInB,0BAAAA,CAA4BzC,MAAAA,CAAAA;AHgK9D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG/JL,IAAI,CAAC4D,oBAAoB,CAACG,QAAQ,CAAE,CAAA,IAAA,CAAA,CAAA,CAASpD,EAAE,CAAE,IAAI,CAAA;AHgKvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG9JL,IAAI,CAACkD,WAAW,CAAA,CAAA,CAAG3B,UAAAA;AAEnB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAAC4B,kBAAkB,CAAA,CAAA,CAAG,GAAA,CAAIjE,iBAAAA,CAAmBG,MAAAA,CAAAA,CAAQ;AACxD2B,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,gBAAAA;AACAC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,UAAAA;AACAO,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,YAAAA;AACAD,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,UAAAA;AACAV,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH8JF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JL,IAAI,CAACmB,WAAW,CAAE;AH6JpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JRC,GAAAA,CAAAA,CAAK,CAAA,GAAA,CAAA;AH6JR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JRtC,UAAAA,CAAAA,CAAY;AH6Jf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JXE,KAAAA,CAAAA,CAAO;AACN,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA;AACA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,OAAA;AACA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH6JH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JRwD,QAAAA,CAAAA,CAAU;AACT,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACJ;AACL,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH6JJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JRd,EAAAA,CAAAA,CAAI;AH6JP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JXmB,KAAAA,CAAAA,CAAO/D,IAAAA,CAAKS,EAAE,CAAE,IAAI,CAACuD,mBAAmB,CAAChE,IAAI,CAAE,IAAI,CAAA,CAAA;AH6JvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5JXiE,KAAAA,CAAAA,CAAOjE,IAAAA,CAAKS,EAAE,CAAE,IAAI,CAACyD,wBAAwB,CAAClE,IAAI,CAAE,IAAI,CAAA;AACzD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH4JD,CAAC,CAAC,CAAC,CAAC,CAAC;AG1JH,CAAA,CAAA,CAAA,CAAA,CACD,OAAgBmE,CAAAA,CAAAA,CAAgB;AH2JjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG1JL,IAAI,CAACP,kBAAkB,CAACO,OAAO,CAAA,CAAA;AAE/B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAACA,OAAAA,CAAAA,CAAAA;AACP,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHyJD,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO;AGvJ1E,CAAA,CAAA,CAAA,CAAA,CACD,GAAA,CAAWzD,MAAAA,CAAAA,CAAAA,CAAiB;AAC3B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA,CAAO,GAAA,CAAI0D,IAAAA,CAAM,IAAI,CAACjD,OAAO,CAAA,CAAIT,MAAM;AACxC,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHuJD,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU;AGrJlI,CAAA,CAAA,CAAA,CAAA,CACD,GAAA,CAAW2D,YAAAA,CAAAA,CAAAA,CAAuB;AHsJnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGrJL,MAAA,CAAOC,IAAAA,CAAKC,GAAG,CAAE,CAAA,CAAA,CAAGD,IAAAA,CAAKE,GAAG,CAAE,IAAI,CAAC9D,MAAM,CAAA,CAAE,IAAI,CAACkD,kBAAkB,CAAClD,MAAM,CAAA,CAAA,CAAA,CAAK,IAAI,CAACgD,oBAAoB,CAAChD,MAAM,CAAA;AAC/G,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHqJD,CAAC,CAAC,CAAC,CAAC,CAAC;AGnJH,CAAA,CAAA,CAAA,CAAA,CACD,MAAgBC,CAAAA,CAAAA,CAAe;AAC9B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAACA,MAAAA,CAAAA,CAAAA;AHoJR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGlJL,IAAI,CAACiD,kBAAkB,CAACjD,MAAM,CAAA,CAAA;AHmJhC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGjJL,IAAI,CAACQ,OAAO,CAAEmB,WAAW,CAAE,IAAI,CAACsB,kBAAkB,CAACzC,OAAO,CAAA;AAC3D,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHiJD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI;AACzG,CAAC,CAAC;AACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI;AAC7F,CAAC,CAAC,CAAC,CAAC,CG/IIsD,gBAAAA,CAAkB1D,SAAiB,CAAA,CAAS;AHgJpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG/IL,IAAI,CAAC6C,kBAAkB,CAAC9C,SAAS,CAAEC,SAAAA,CAAAA,CAAAA,CAAY,IAAI,CAAC4C,WAAW,CAAA;AAChE,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH+ID,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ;AACpC,CAAC,CAAC;AACF,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC;AAClH,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC;AAC1H,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ;AACpC,CAAC,CAAC;AACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;AACrG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG;AACjC,CAAC,CAAC,CAAC,CAAC,CG7IIL,iBAAAA,CAAmBoB,iBAAyB,CAAA,CAAS;AH8I7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG7IL,KAAA,CAAMC,UAAAA,CAAAA,CAAAA,CAAa,IAAI,CAACf,kBAAkB;AH8I5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG7IL,KAAA,CAAMgB,mBAAAA,CAAAA,CAAAA,CAAsB,IAAI,CAAClB,oBAAoB;AH8IvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO;AG3I3G,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAKiB,UAAAA,CAAWjE,MAAM,CAAA,CAAA,CAAG,IAAI,CAACA,MAAM,CAAA,CAAG;AACtCiE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,UAAAA,CAAW3D,YAAY,CAAE,CAAA,CAAA;AH6I5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5IR4D,mBAAAA,CAAoB5D,YAAY,CAAI2D,CAAAA,UAAAA,CAAWjE,MAAM,CAAA,CAAA,CAAGkE,mBAAAA,CAAoBlE,MAAK,CAAA,CAAA,CAAA,CAAMgE,iBAAAA,CAAAA;AH6I1F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG5IN,CAAA,IAAA,CAAO;AACN,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMG,WAAAA,CAAAA,CAAAA,CAAcF,UAAAA,CAAWjE,MAAM,CAAA,CAAA,CAAG,IAAI,CAACA,MAAM;AH6ItD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG3IRiE,UAAAA,CAAW3D,YAAY,CAAE,CAAC6D,WAAAA,CAAAA,CAAAA,CAAcH,iBAAAA,CAAAA;AH4I3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CG3IRE,mBAAAA,CAAoB5D,YAAY,CAAI,CAAA,IAAI,CAACN,MAAM,CAAA,CAAA,CAAGkE,mBAAAA,CAAoBlE,MAAK,CAAA,CAAA,CAAA,CAAMgE,iBAAAA,CAAAA;AAClF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEAE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,mBAAAA,CAAoBtB,iBAAiB,CAAEgB,IAAAA,CAAKQ,KAAK,CAAEJ,iBAAAA,CAAAA,CAAAA,CAAoB,GAAA,CAAA,CAAA;AACxE,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AH0ID,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI;AACzG,CAAC,CAAC,CAAC,CAAC,CGxIIK,wBAAAA,CAA0BC,aAAqB,CAAA,CAAS;AHyIhE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGxIL,IAAI,CAACtB,oBAAoB,CAAC5C,SAAS,CAAEkE,aAAAA,CAAAA,CAAAA,CAAgB,IAAI,CAACrB,WAAW,CAAA;AACtE,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHwID,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AAC1B,CAAC,CAAC,CAAC,CAAC,CGtIKK,mBAAAA,CAAqBd,IAAW,CAAA,CAAG;AHuI5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGtIL,KAAA,CAAM0B,mBAAAA,CAAAA,CAAAA,CAAsB,IAAI,CAAClB,oBAAoB;AAErD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAKR,IAAAA,CAAK+B,MAAM,CAAA,CAAA,CAAA,CAAA,CAAKL,mBAAAA,CAAoBzD,OAAO,CAAA,CAAG;AAClD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM+D,eAAAA,CAAAA,CAAAA,CAAkB,GAAA,CAAId,IAAAA,CAAMQ,mBAAAA,CAAoBzD,OAAO,CAAA;AHqI/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGpIL,KAAA,CAAMgE,IAAAA,CAAAA,CAAAA,CAAO,IAAEjC,CAAqBkC,OAAO,CAAA,CAAA,CAAGF,eAAAA,CAAgB1E,GAAG,CAAA,CAAA,CAAG0E,eAAAA,CAAgBxE,MAAM,CAAA,CAAA,CAAG,CAAA;AAC7F,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM2E,UAAAA,CAAAA,CAAAA,CAAaF,IAAAA,CAAAA,CAAAA,CAAO,IAAI,CAACvB,kBAAkB,CAAClD,MAAM;AHqI1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGnIL,IAAI,CAACyC,IAAI,CAAqB,CAAA,KAAA,CAAA,CAAA,CAASkC,UAAAA,CAAAA;AACxC,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AHmID,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AAC1B,CAAC,CAAC,CAAC,CAAC,CGjIKnB,wBAAAA,CAA0BhB,IAAW,CAAA,CAAG;AHkIjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CGjIL,IAAI,CAACC,IAAI,CAAoB,CAAA,IAAA,CAAA,CAAA,CAAUD,IAAAA,CAAqBoC,MAAM,CAAA,CAAA,CAAG,IAAI,CAAC3B,WAAW,CAAA;AACtF,CAAA,CAAA,CAAA,CAAA;AACD;;AC9KA,CAAA,CAAA;AJkTA,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;AAC9G,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;AACvH,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI;AACd,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;AACzE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK;AAChD,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO;AIhT7C,CAAA,CAAA,CAAA,CACM,QAAA,CAAS4B,uBAAAA,CAAyBC,MAAc,CAAA,CAAEC,QAAiB,CAAA,CAAA;AACzE,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMC,YAAAA,CAAAA,CAAAA,CAAeF,MAAAA,CAAOG,OAAO,CAACC,IAAI,CAACvE,QAAQ;AJiTlD,CAAC,CAAC,CAAC,CIhTF,KAAA,CAAMwE,QAAAA,CAAAA,CAAAA,CAAWH,YAAAA,CAAaI,OAAO,CAAEL,QAAAA,CAAAA;AJiTxC,CAAC,CAAC,CAAC,CIhTF,KAAA,CAAMM,YAAAA,CAAAA,CAAAA,CAAe,GAAA,CAAIC,YAAAA,CAAcN,YAAAA,CAAAA;AACvC,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMO,QAAAA,CAAAA,CAAAA,CAAW,GAAA,CAAIC,QAAAA,CAAUH,YAAAA,CAAAA,CAAcL,YAAAA,CAAaS,SAAS,CAAA;AJiTpE,CAAC,CAAC,CAAC,CIhTF,KAAA,CAAM7E,YAAAA,CAAAA,CAAAA,CAAekE,MAAAA,CAAOG,OAAO,CAACC,IAAI,CAACQ,UAAU,CAAA,CAAA,CAAIC,SAAS,CAAA,CAAA;AJiTjE,CAAC,CAAC,CAAC,CI/SFN,YAAAA,CAAaO,YAAY,CAAEhF,YAAAA,CAAAA,CAAcuE,QAAAA,CAAAA;AJgT1C,CAAC,CAAC,CAAC,CI9SFI,QAAAA,CAASM,UAAU,CAAE,CAAA,QAAA,CAAA,CAAA,CAAYV,QAAAA,CAAAA;AJ+SlC,CAAC,CAAC,CAAC,CI9SFI,QAAAA,CAASM,UAAU,CAAE,CAAA,UAAA,CAAA,CAAA,CAAcV,QAAAA,CAAAA;AJ+SpC,CAAC,CAAC,CAAC,CI7SFA,QAAAA,CAASjD,EAAE,CAAE,CAAA,MAAA,CAAA,QAAA,CAAA,CAAA,CAAmB,CAAEK,GAAAA,CAAAA,CAAKuD,IAAAA,CAAAA,CAAAA,CAAUP,QAAAA,CAASM,UAAU,CAAE,CAAA,QAAA,CAAA,CAAA,CAAYC,IAAAA,CAAAA,CAAAA;AJ8SnF,CAAC,CAAC,CAAC,CI7SFX,QAAAA,CAASjD,EAAE,CAAE,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAqB,CAAEK,GAAAA,CAAAA,CAAKuD,IAAAA,CAAAA,CAAAA,CAAUP,QAAAA,CAASM,UAAU,CAAE,CAAA,UAAA,CAAA,CAAA,CAAcC,IAAAA,CAAAA,CAAAA;AJ8SvF,CAAC,CAAC,CAAC,CI7SFX,QAAAA,CAASjD,EAAE,CAAE,CAAA,MAAA,CAAA,IAAA,CAAA,CAAA,CAAe,CAAEK,GAAAA,CAAAA,CAAKuD,IAAAA,CAAAA,CAAAA,CAAUP,QAAAA,CAASM,UAAU,CAAE,CAAA,IAAA,CAAA,CAAA,CAAQC,IAAAA,CAAAA,CAAAA;AAE1EP,CAAAA,CAAAA,CAAAA,CAAAA,QAAAA,CAAStF,MAAM,CAAA,CAAA;AJ6ShB,CAAC,CAAC,CAAC,CI3SF6E,MAAAA,CAAOG,OAAO,CAACC,IAAI,CAAChD,EAAE,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,CAAA,CAAA,CAAA,CAAMqD,QAAAA,CAAStF,MAAM,CAAA,CAAA,CAAA;AJ4SxD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW;AACtC,CAAC,CAAC,CAAC,CI1SF6E,MAAAA,CAAO5C,EAAE,CAAE,CAAA,OAAA,CAAA,CAAA,CAAW,CAAA,CAAA,CAAA,CAAA;AACrBmD,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,YAAAA,CAAaU,gBAAgB,CAAEnF,YAAAA,CAAAA;AAChC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AJ2SD,CAAC,CAAC,CAAC,CIzSF,MAAA,CAAOA,YAAAA;AACR;AAEA,CAAA,CAAA;AJySA,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO;AACzH,CAAC;AACD,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO;AACzC,CAAC;AACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACN,CAAC,CAAC,CAAC;AACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;AAClD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClB,CAAC,CAAC,CAAC;AACH,CAAC,CAAC,CAAC,CAAC,CAAC;AACL,CAAC;AACD,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC;AAC7F,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC;AACzG,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AIvSH,CAAA,CAAA,CAAA,CACM,QAAA,CAASoF,aAAAA,CAAAA,CAAAA,CAAAA;AJwShB,CAAC,CAAC,CAAC,CIvSF,MAAA,CAAOC,KAAAA,CAAMC,IAAI,CAAE5D,MAAAA,CAAO3B,QAAQ,CAACwF,WAAW,CAAA,CAC5ClF,GAAG,CAAEmF,CAAAA,UAAAA,CAAAA,CAAAA,CAAAA;AJuSR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AIrSR,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAKA,UAAAA,CAAWjF,IAAI,CAAA,CAAA,CAAA,CAAI,CAACiF,UAAAA,CAAWjF,IAAI,CAACkF,UAAU,CAAE/D,MAAAA,CAAOgE,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAA,CAAA,CAAK;AJuS1F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CItSP,MAAA,CAAO;AAAErF,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,IAAAA,CAAAA,CAAMiF,UAAAA,CAAWjF;AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAChC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AJySH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CIvSJ,MAAA,CAAO8E,KAAAA,CAAMC,IAAI,CAAEE,UAAAA,CAAWK,QAAQ,CAAA,CACpCC,MAAM,CAAEC,CAAAA,IAAAA,CAAAA,CAAAA,CAAQ,CAAA,CAAGA,IAAAA,CAAAA,UAAAA,CAAgBC,YAAW,CAAA,CAAA,CAC9C3F,GAAG,CAAE0F,CAAAA,IAAAA,CAAAA,CAAAA,CAAQA,IAAAA,CAAKE,OAAO,CAAA,CACzBzF,IAAI,CAAE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACT,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACF;AAEA,CAAA,CAAA;AJoSA,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO;AAC5G,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CIlSI,QAAA,CAAS0F,iBAAAA,CAAmBC,UAAuB,CAAA,CAAA;AJmS1D,CAAC,CAAC,CAAC,CIlSF,MAAA,CAAO,GAAA,CAAIrD,IAAAA,CAAMqD,UAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAezE,MAAAA,CAAO3B,QAAQ,CAACgB,IAAI,CAAA,CAAA,CAAGW,MAAAA,CAAOgE,MAAM,CAAA,CAAA,CAAGS,UAAAA,CAAAA;AACxE;AAEA,CAAA,CAAA;AJkSA,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO;AACjG,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CIhSI,QAAA,CAASC,eAAAA,CAAiBD,UAAuB,CAAA,CAAA;AACvD,CAAA,CAAA,CAAA,CAAA,MAAA,CAAOA,UAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAezE,MAAAA,CAAO3B,QAAQ,CAACgB,IAAI,CAAA,CAAA,CAAGW,MAAAA,CAAOgE,MAAM,CAACW,WAAW,CAAA,CAAA,CAAGF,UAAAA,CAAWG,YAAY;AACjG;AAEA,CAAA,CAAA;AJgSA,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS;AACtF,CAAC;AACD,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,CI9RI,QAAA,CAASC,aAAAA,CAAeJ,UAAuB,CAAA,CAAA;AJ+RtD,CAAC,CAAC,CAAC,CI9RF,MAAA,CAAOA,UAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAezE,MAAAA,CAAO3B,QAAQ,CAACgB,IAAI,CAAA,CAAA,CAAGW,MAAAA,CAAOgE,MAAM,CAAA,CAAA,CAAGS,UAAAA;AAC9D;;ACvFA,CAAA,CAAA;ALwXA,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO;AAC9B,CAAC,CAAC,CAAC,CKtXY,KAAA,CAAMK,OAAAA,CAAAA,OAAAA,CAAgBC,MAAAA,CAAAA;AACpC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALuXD,CAAC,CAAC,CAAC,CAAC,CAAC;AKrXH,CAAA,CAAA,CAAA,CAAA,CACD,MAAA,CAAA,GAAA,CAAkBC,UAAAA,CAAAA,CAAAA,CAAa;ALsXhC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrXL,MAAA,CAAO,CAAA,OAAA,CAAA;AACR,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALqXD,CAAC,CAAC,CAAC,CAAC,CAAC;AKnXH,CAAA,CAAA,CAAA,CAAA,CACD,MAAA,CAAA,GAAA,CAA2BC,gBAAAA,CAAAA,CAAAA,CAAyB;ALoXrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKnXL,MAAA,CAAO,IAAA;AACR,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALmXD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO;AKjX1C,CAAA,CAAA,CAAA,CAAA,CACD,YAAQC;AAER,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALiXD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;AACrE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,CAAC;AK/WpE,CAAA,CAAA,CAAA,CAAA,CACD,uBAAQC;AAER,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AL+WD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;AACrE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,CAAC;AK7WpE,CAAA,CAAA,CAAA,CAAA,CACD,mBAAQC;AAER,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AL6WD,CAAC,CAAC,CAAC,CAAC,CAAC;AK3WH,CAAA,CAAA,CAAA,CAAA,CACD,IAAOC,CAAAA,CAAAA,CAAa;AL4WrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK3WL,KAAA,CAAM7C,MAAAA,CAAAA,CAAAA,CAAS,IAAI,CAACA,MAAM;AL4W5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK3WL,IAAI,CAAC0C,YAAY,CAAA,CAAA,CAAG,IAAA;AL4WtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK3WL,IAAI,CAACC,uBAAuB,CAAA,CAAA,CAAG,IAAA;AAE/B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACpF,QAAQ,CAAEyC,MAAAA,CAAO8C,EAAE,CAAA,CAAE,CAAA,KAAA,CAAA,CAAA,CAAS,IAAI,CAACC,UAAU,CAACvI,IAAI,CAAE,IAAI,CAAA,CAAA;AAC9D,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AL0WD,CAAC,CAAC,CAAC,CAAC,CAAC;AKxWH,CAAA,CAAA,CAAA,CAAA,CACD,OAAgBmE,CAAAA,CAAAA,CAAgB;AAC/B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAK,CAACA,OAAAA,CAAAA,CAAAA;ALyWR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKvWL,IAAI,CAAC+D,YAAY,CAAE/D,OAAO,CAAA,CAAA;AAC1B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAAC+D,YAAY,CAAE/G,OAAO,CAAEqH,MAAM,CAAA,CAAA;AACnC,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALuWD,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;AAC/D,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;AKrWpC,CAAA,CAAA,CAAA,CAAA,CACD,UAAQD,CAAAA,CAAAA,CAAmB;ALsW5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrWL,KAAA,CAAM/C,MAAAA,CAAAA,CAAAA,CAAS,IAAI,CAACA,MAAM;ALsW5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM;AAC9D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKpWL,KAAA,CAAMiD,kBAAAA,CAAAA,CAAAA,CAAqB,IAAI,CAACL,mBAAmB,CAAA,CAAA,CAAG5C,MAAAA,CAAO8C,EAAE,CAACI,kBAAkB,CAAA,CAAA;ALqWpF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKnWL,IAAI,CAACP,uBAAuB,CAAA,CAAA,CAAGQ,6BAAAA,CAA+BF,kBAAAA,CAAAA;ALoWhE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ;AAC/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKlWL,EAAA,CAAA,CAAK,CAACA,kBAAAA,CAAmBG,aAAa,CAACvG,IAAI,CAACwG,QAAQ,CAAEJ,kBAAAA,CAAAA,CAAAA,CAAuB;ALmW/E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKlWRjD,MAAAA,CAAO8C,EAAE,CAACQ,IAAI,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,IAAI,CAACP,UAAU,CAACvI,IAAI,CAAE,IAAI,CAAA,CAAA;AAEpD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAAC+I,sBAAsB,CAAA,CAAA;ALiW7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK/VL,IAAI,CAAChG,QAAQ,CAAEyC,MAAAA,CAAOG,OAAO,CAACC,IAAI,CAAA,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,CAAA,CAAA,CAAA,CAAA;ALgWhD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK/VR,EAAA,CAAA,CAAKJ,MAAAA,CAAOwD,KAAK,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,KAAA,CAAA,CAAA,CAAU;AAC/B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACC,uCAAuC,CAAA,CAAA;AAC7C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACA,uCAAuC,CAAA,CAAA;AAC7C,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AL6VD,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ;AAC5G,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;AK3VtE,CAAA,CAAA,CAAA,CAAA,CACD,sBAAQF,CAAAA,CAAAA,CAA+B;AL4VxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK3VL,KAAA,CAAMvD,MAAAA,CAAAA,CAAAA,CAAS,IAAI,CAACA,MAAM;AL4V5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK3VL,KAAA,CAAM1F,MAAAA,CAAAA,CAAAA,CAAS0F,MAAAA,CAAO1F,MAAM;AAC5B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAM2B,gBAAAA,CAAAA,CAAAA,CAAmB+D,MAAAA,CAAO0D,MAAM,CAACC,GAAG,CAAE,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;AL4V9C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,MAAM;AKzVhE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMC,uBAAAA,CAAAA,CAAAA,CAA0B5D,MAAAA,CAAO0D,MAAM,CAACC,GAAG,CAAE,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;AL2VrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK1VL,KAAA,CAAME,sBAAAA,CAAAA,CAAAA,CAAyB,IAAI,CAAClB,uBAAuB;AL2V7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI;AKxV3G,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMmB,uBAAAA,CAAAA,CAAAA,CAA0B9B,iBAAAA,CAAmB,IAAI,CAACY,mBAAmB,CAAA,CAAImB,KAAK;AL0VtF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKzVL,KAAA,CAAMC,qBAAAA,CAAAA,CAAAA,CAAwBhC,iBAAAA,CAAmB4B,uBAAAA,CAAAA,CAA0BG,KAAK;AAChF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAME,iBAAAA,CAAAA,CAAAA,CAAoBD,qBAAAA,CAAAA,CAAAA,CAAwBF,uBAAAA;AAElD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMI,WAAAA,CAAAA,CAAAA,CAAc,IAAI,CAACxB,YAAY,CAAA,CAAA,CAAG,GAAA,CAAIzE,WAAAA,CAAa;AACxD3D,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,MAAAA;ALyVH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxVRkC,UAAAA,CAAAA,CAAYyH,iBAAAA;ALyVf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxVR/H,UAAAA,CAAAA,CAAYgF,aAAAA,CAAAA,CAAAA;AACZzE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,YAAAA,CAAAA,CAAcuD,MAAAA,CAAO0D,MAAM,CAACC,GAAG,CAAE,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;AACjC1H,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,gBAAAA;AACAH,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,YAAAA,CAAAA,CAAciE,uBAAAA,CAAyBC,MAAAA;AACxC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEAkE,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAY/I,MAAM,CAAA,CAAA;ALwVpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM;AKrV9D+I,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAY3G,QAAQ,CAAEC,MAAAA,CAAO3B,QAAQ,CAAA,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,CAAE4B,GAAAA,CAAAA,CAAKC,IAAAA,CAAAA,CAAAA,CAAAA;AACvD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAKmG,sBAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAA2BrG,MAAAA,CAAO3B,QAAQ,CAACgB,IAAI,CAAA,CAAG;AACtD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAKa,IAAAA,CAAK+B,MAAM,CAAA,CAAA,CAAA,CAAA,CAAKjC,MAAAA,CAAO3B,QAAQ,CAAA,CAAG;AACtC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAO,EAAA,CAAA,CAAK6B,IAAAA,CAAK+B,MAAM,CAAA,CAAA,CAAA,CAAA,CAAKoE,sBAAAA,CAAAA,CAAyB;AACpD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACJ,uCAAuC,CAAA,CAAA;ALsV/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrVN,CAAA,CAAG;ALsVL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKtVJ5F,UAAAA,CAAAA,CAAY,IAAA;ALuVnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKvVcsG,UAAAA,CAAAA,CAAY;AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALyV1C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM;AKtVnDD,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAY3G,QAAQ,CAAEC,MAAAA,CAAOgE,MAAM,CAAA,CAAE,CAAA,MAAA,CAAA,CAAA,CAAU,CAAA,CAAA,CAAA,CAAA;AAC9C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAI,CAACiC,uCAAuC,CAAA,CAAA;AAC7C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALwVF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM;AKrVnFS,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAY9G,EAAE,CAAoB,CAAA,IAAA,CAAA,CAAA,CAAQ,CAAEK,GAAAA,CAAAA,CAAKG,SAAAA,CAAAA,CAAAA,CAAAA;ALuVnD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKtVR,GAAA,CAAIwG,mBAAAA;ALuVP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrVR,EAAA,CAAA,CAAKF,WAAAA,CAAYrF,YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAI;ALsVzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrVXuF,mBAAAA,CAAAA,CAAAA,CAAsB,CAAA;ALsV1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrVT,CAAA,IAAA,CAAO;ALsVV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKrVXA,mBAAAA,CAAAA,CAAAA,CAAsBxG,SAAAA,CAAAA,CAAAA,CAAYsG,WAAAA,CAAYrF,YAAY;AAC3D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMwF,sBAAAA,CAAAA,CAAAA,CAAyBD,mBAAAA,CAAAA,CAAAA,CAAAA,CAC5BP,sBAAAA,CAAuBhF,YAAY,CAAA,CAAA,CAAGqD,eAAAA,CAAiB2B,sBAAAA,CAAuB,CAAA;AACjF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMS,UAAAA,CAAAA,CAAAA,CAAajC,aAAAA,CAAewB,sBAAAA,CAAAA;AAElCS,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,UAAAA,CAAWC,QAAQ,CAAE,CAAA,CAAA,CAAGzF,IAAAA,CAAKQ,KAAK,CAAE+E,sBAAAA,CAAAA,CAAAA;AACrC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALmVF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ;AKhV/FH,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAY9G,EAAE,CAAqB,CAAA,KAAA,CAAA,CAAA,CAAS,CAAEK,GAAAA,CAAAA,CAAKoC,UAAAA,CAAAA,CAAAA,CAAAA;ALkVrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKjVR,KAAA,CAAMwE,sBAAAA,CAAAA,CAAAA,CAAyBxE,UAAAA,CAAAA,CAAAA,CAAagE,sBAAAA,CAAuBhF,YAAY;AAC/E,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMyF,UAAAA,CAAAA,CAAAA,CAAajC,aAAAA,CAAewB,sBAAAA,CAAAA;AAElCS,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,UAAAA,CAAWC,QAAQ,CAAE,CAAA,CAAA,CAAGzF,IAAAA,CAAKQ,KAAK,CAAE+E,sBAAAA,CAAAA,CAAAA;AACrC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALiVF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK/ULT,uBAAAA,CAAwB9G,WAAW,CAAEoH,WAAAA,CAAYvI,OAAO,CAAA;AACzD,CAAA,CAAA,CAAA,CAAA;AAEA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AL+UD,CAAC,CAAC,CAAC,CAAC,CAAC;AK7UH,CAAA,CAAA,CAAA,CAAA,CACD,uCAAQ8H,CAAAA,CAAAA,CAAgD;AL8UzD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK7UL,KAAA,CAAMR,kBAAAA,CAAAA,CAAAA,CAAqB,IAAI,CAACL,mBAAmB;AL8UrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK7UL,KAAA,CAAMsB,WAAAA,CAAAA,CAAAA,CAAc,IAAI,CAACxB,YAAY;AL8UvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK5ULwB,WAAAA,CAAYjF,gBAAgB,CAAEgE,kBAAAA,CAAmBuB,YAAY,CAAA;AAE7D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMC,eAAAA,CAAAA,CAAAA,CAAkBzC,iBAAAA,CAAmBiB,kBAAAA,CAAAA;AAC3C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAMyB,0BAAAA,CAAAA,CAAAA,CAA6B1C,iBAAAA,CAAmB,IAAI,CAACW,uBAAuB,CAAA;AL4UpF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CK3UL,GAAA,CAAI3E,cAAAA;AL4UN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI;AAC7G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI;AKzU5D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAK,CAAC0G,0BAAAA,CAA2BC,eAAe,CAAEF,eAAAA,CAAAA,CAAAA,CAAoB;AACrE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AL2UF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC;AACnI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;AAC/G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ;AACpE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxUL,EAAA,CAAA,CAAKC,0BAAAA,CAA2BrB,QAAQ,CAAEoB,eAAAA,CAAAA,CAAAA,CAAoB;ALyUhE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxURzG,cAAAA,CAAAA,CAAAA,CAAiB,CAAA;ALyUpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxUN,CAAA,IAAA,CAAO;AACN,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAKyG,eAAAA,CAAgBzJ,GAAG,CAAA,CAAA,CAAG0J,0BAAAA,CAA2B1J,GAAG,CAAA,CAAG;ALyU/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxUXgD,cAAAA,CAAAA,CAAAA,CAAiB,CAAA;ALyUrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CKxUT,CAAA,IAAA,CAAO;AACNA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,cAAAA,CAAAA,CAAAA,CAAiB,CAAEyG,eAAAA,CAAgBzJ,GAAG,CAAA,CAAA,CAAG0J,0BAAAA,CAA2B1J,GAAG,CAAA,CAAA,CAAA,CAAA,CACpE0J,0BAAAA,CAA2BxJ,MAAM,CAAA,CAAA,CAAGuJ,eAAAA,CAAgBvJ,MAAM,CAAD;AAE5D8C,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,cAAAA,CAAAA,CAAAA,CAAiBc,IAAAA,CAAKC,GAAG,CAAE,CAAA,CAAA,CAAGD,IAAAA,CAAKE,GAAG,CAAEhB,cAAAA,CAAAA,CAAgB,CAAA,CAAA,CAAA;AACzD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACD,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;ALuUF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI;AAC7G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM;AKpU1HkG,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAY3E,wBAAwB,CAAEmF,0BAAAA,CAA2BC,eAAe,CAAEF,eAAAA,CAAAA,CAAmBvJ,MAAM,CAAA;AAC3GgJ,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAAA,CAAYpG,iBAAiB,CAAEE,cAAAA,CAAAA;AAChC,CAAA,CAAA,CAAA,CAAA;AACD;;ALuUA,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;AAClB,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC","file":"index.js.map","sourcesContent":["import { Plugin } from '@ckeditor/ckeditor5-core/dist/index.js';\nimport { toUnit, global, Rect, findClosestScrollableAncestor } from '@ckeditor/ckeditor5-utils/dist/index.js';\nimport { IframeView, View } from '@ckeditor/ckeditor5-ui/dist/index.js';\nimport { DomConverter, Renderer } from '@ckeditor/ckeditor5-engine/dist/index.js';\n\nconst toPx$1 = /* #__PURE__ */ toUnit('px');\n/**\n * The internal `<iframe>` view that hosts the minimap content.\n *\n * @internal\n */ class MinimapIframeView extends IframeView {\n    /**\n\t * Cached view constructor options for re-use in other methods.\n\t */ _options;\n    /**\n\t * Creates an instance of the internal minimap iframe.\n\t */ constructor(locale, options){\n        super(locale);\n        const bind = this.bindTemplate;\n        this.set('top', 0);\n        this.set('height', 0);\n        this._options = options;\n        this.extendTemplate({\n            attributes: {\n                tabindex: -1,\n                'aria-hidden': 'true',\n                class: [\n                    'ck-minimap__iframe'\n                ],\n                style: {\n                    top: bind.to('top', (top)=>toPx$1(top)),\n                    height: bind.to('height', (height)=>toPx$1(height))\n                }\n            }\n        });\n    }\n    /**\n\t * @inheritDoc\n\t */ render() {\n        return super.render().then(()=>{\n            this._prepareDocument();\n        });\n    }\n    /**\n\t * Sets the new height of the iframe.\n\t */ setHeight(newHeight) {\n        this.height = newHeight;\n    }\n    /**\n\t * Sets the top offset of the iframe to move it around vertically.\n\t */ setTopOffset(newOffset) {\n        this.top = newOffset;\n    }\n    /**\n\t * Sets the internal structure of the `<iframe>` readying it to display the\n\t * minimap element.\n\t */ _prepareDocument() {\n        const iframeDocument = this.element.contentWindow.document;\n        const domRootClone = iframeDocument.adoptNode(this._options.domRootClone);\n        const boxStyles = this._options.useSimplePreview ? `\n\t\t\t.ck.ck-editor__editable_inline img {\n\t\t\t\tfilter: contrast( 0 );\n\t\t\t}\n\n\t\t\tp, li, a, figcaption, span {\n\t\t\t\tbackground: hsl(0, 0%, 80%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 80%) !important;\n\t\t\t}\n\n\t\t\th1, h2, h3, h4 {\n\t\t\t\tbackground: hsl(0, 0%, 60%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 60%) !important;\n\t\t\t}\n\t\t` : '';\n        const pageStyles = this._options.pageStyles.map((definition)=>{\n            if (typeof definition === 'string') {\n                return `<style>${definition}</style>`;\n            } else {\n                return `<link rel=\"stylesheet\" type=\"text/css\" href=\"${definition.href}\">`;\n            }\n        }).join('\\n');\n        const html = `<!DOCTYPE html><html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t${pageStyles}\n\t\t\t\t<style>\n\t\t\t\t\thtml, body {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tpadding: 0 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\thtml {\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\n\t\t\t\t\tbody {\n\t\t\t\t\t\ttransform: scale( ${this._options.scaleRatio} );\n\t\t\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t\t\toverflow: visible;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-editor__editable_inline {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tborder-color: transparent !important;\n\t\t\t\t\t\toutline-color: transparent !important;\n\t\t\t\t\t\tbox-shadow: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-content {\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t}\n\n\t\t\t\t\t${boxStyles}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body class=\"${this._options.extraClasses || ''}\"></body>\n\t\t</html>`;\n        iframeDocument.open();\n        iframeDocument.write(html);\n        iframeDocument.close();\n        iframeDocument.body.appendChild(domRootClone);\n    }\n}\n\nconst toPx = /* #__PURE__ */ toUnit('px');\n/**\n * The position tracker visualizing the visible subset of the content. Displayed over the minimap.\n *\n * @internal\n */ class MinimapPositionTrackerView extends View {\n    constructor(locale){\n        super(locale);\n        const bind = this.bindTemplate;\n        this.set('height', 0);\n        this.set('top', 0);\n        this.set('scrollProgress', 0);\n        this.set('_isDragging', false);\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-minimap__position-tracker',\n                    bind.if('_isDragging', 'ck-minimap__position-tracker_dragging')\n                ],\n                style: {\n                    top: bind.to('top', (top)=>toPx(top)),\n                    height: bind.to('height', (height)=>toPx(height))\n                },\n                'data-progress': bind.to('scrollProgress')\n            },\n            on: {\n                mousedown: bind.to(()=>{\n                    this._isDragging = true;\n                })\n            }\n        });\n    }\n    /**\n\t * @inheritDoc\n\t */ render() {\n        super.render();\n        this.listenTo(global.document, 'mousemove', (evt, data)=>{\n            if (!this._isDragging) {\n                return;\n            }\n            this.fire('drag', data.movementY);\n        }, {\n            useCapture: true\n        });\n        this.listenTo(global.document, 'mouseup', ()=>{\n            this._isDragging = false;\n        }, {\n            useCapture: true\n        });\n    }\n    /**\n\t * Sets the new height of the tracker to visualize the subset of the content visible to the user.\n\t */ setHeight(newHeight) {\n        this.height = newHeight;\n    }\n    /**\n\t * Sets the top offset of the tracker to move it around vertically.\n\t */ setTopOffset(newOffset) {\n        this.top = newOffset;\n    }\n    /**\n\t * Sets the scroll progress (in %) to inform the user using a label when the tracker is being dragged.\n\t */ setScrollProgress(newProgress) {\n        this.scrollProgress = newProgress;\n    }\n}\n\n/**\n * The main view of the minimap. It renders the original content but scaled down with a tracker element\n * visualizing the subset of the content visible to the user and allowing interactions (scrolling, dragging).\n *\n * @internal\n */ class MinimapView extends View {\n    /**\n\t * An instance of the tracker view displayed over the minimap.\n\t */ _positionTrackerView;\n    /**\n\t * The scale ratio of the minimap relative to the original editing DOM root with the content.\n\t */ _scaleRatio;\n    /**\n\t * An instance of the iframe view that hosts the minimap.\n\t */ _minimapIframeView;\n    /**\n\t * Creates an instance of the minimap view.\n\t */ constructor({ locale, scaleRatio, pageStyles, extraClasses, useSimplePreview, domRootClone }){\n        super(locale);\n        const bind = this.bindTemplate;\n        this._positionTrackerView = new MinimapPositionTrackerView(locale);\n        this._positionTrackerView.delegate('drag').to(this);\n        this._scaleRatio = scaleRatio;\n        this._minimapIframeView = new MinimapIframeView(locale, {\n            useSimplePreview,\n            pageStyles,\n            extraClasses,\n            scaleRatio,\n            domRootClone\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-minimap'\n                ]\n            },\n            children: [\n                this._positionTrackerView\n            ],\n            on: {\n                click: bind.to(this._handleMinimapClick.bind(this)),\n                wheel: bind.to(this._handleMinimapMouseWheel.bind(this))\n            }\n        });\n    }\n    /**\n\t * @inheritDoc\n\t */ destroy() {\n        this._minimapIframeView.destroy();\n        super.destroy();\n    }\n    /**\n\t * Returns the DOM {@link module:utils/dom/rect~Rect} height of the minimap.\n\t */ get height() {\n        return new Rect(this.element).height;\n    }\n    /**\n\t * Returns the number of available space (pixels) the position tracker (visible subset of the content) can use to scroll vertically.\n\t */ get scrollHeight() {\n        return Math.max(0, Math.min(this.height, this._minimapIframeView.height) - this._positionTrackerView.height);\n    }\n    /**\n\t * @inheritDoc\n\t */ render() {\n        super.render();\n        this._minimapIframeView.render();\n        this.element.appendChild(this._minimapIframeView.element);\n    }\n    /**\n\t * Sets the new height of the minimap (in px) to respond to the changes in the original editing DOM root.\n\t *\n\t * **Note**:The provided value should be the `offsetHeight` of the original editing DOM root.\n\t */ setContentHeight(newHeight) {\n        this._minimapIframeView.setHeight(newHeight * this._scaleRatio);\n    }\n    /**\n\t * Sets the minimap scroll progress.\n\t *\n\t * The minimap scroll progress is linked to the original editing DOM root and its scrollable container (ancestor).\n\t * Changing the progress will alter the vertical position of the minimap (and its position tracker) and give the user an accurate\n\t * overview of the visible document.\n\t *\n\t * **Note**: The value should be between 0 and 1. 0 when the DOM root has not been scrolled, 1 when the\n\t * scrolling has reached the end.\n\t */ setScrollProgress(newScrollProgress) {\n        const iframeView = this._minimapIframeView;\n        const positionTrackerView = this._positionTrackerView;\n        // The scrolling should end when the bottom edge of the iframe touches the bottom edge of the minimap.\n        if (iframeView.height < this.height) {\n            iframeView.setTopOffset(0);\n            positionTrackerView.setTopOffset((iframeView.height - positionTrackerView.height) * newScrollProgress);\n        } else {\n            const totalOffset = iframeView.height - this.height;\n            iframeView.setTopOffset(-totalOffset * newScrollProgress);\n            positionTrackerView.setTopOffset((this.height - positionTrackerView.height) * newScrollProgress);\n        }\n        positionTrackerView.setScrollProgress(Math.round(newScrollProgress * 100));\n    }\n    /**\n\t * Sets the new height of the tracker (in px) to visualize the subset of the content visible to the user.\n\t */ setPositionTrackerHeight(trackerHeight) {\n        this._positionTrackerView.setHeight(trackerHeight * this._scaleRatio);\n    }\n    /**\n\t * @param data DOM event data\n\t */ _handleMinimapClick(data) {\n        const positionTrackerView = this._positionTrackerView;\n        if (data.target === positionTrackerView.element) {\n            return;\n        }\n        const trackerViewRect = new Rect(positionTrackerView.element);\n        const diff = data.clientY - trackerViewRect.top - trackerViewRect.height / 2;\n        const percentage = diff / this._minimapIframeView.height;\n        this.fire('click', percentage);\n    }\n    /**\n\t * @param data DOM event data\n\t */ _handleMinimapMouseWheel(data) {\n        this.fire('drag', data.deltaY * this._scaleRatio);\n    }\n}\n\n/**\n * Clones the editing view DOM root by using a dedicated pair of {@link module:engine/view/renderer~Renderer} and\n * {@link module:engine/view/domconverter~DomConverter}. The DOM root clone updates incrementally to stay in sync with the\n * source root.\n *\n * @internal\n * @param editor The editor instance the original editing root belongs to.\n * @param rootName The name of the root to clone.\n * @returns The editing root DOM clone element.\n */ function cloneEditingViewDomRoot(editor, rootName) {\n    const viewDocument = editor.editing.view.document;\n    const viewRoot = viewDocument.getRoot(rootName);\n    const domConverter = new DomConverter(viewDocument);\n    const renderer = new Renderer(domConverter, viewDocument.selection);\n    const domRootClone = editor.editing.view.getDomRoot().cloneNode();\n    domConverter.bindElements(domRootClone, viewRoot);\n    renderer.markToSync('children', viewRoot);\n    renderer.markToSync('attributes', viewRoot);\n    viewRoot.on('change:children', (evt, node)=>renderer.markToSync('children', node));\n    viewRoot.on('change:attributes', (evt, node)=>renderer.markToSync('attributes', node));\n    viewRoot.on('change:text', (evt, node)=>renderer.markToSync('text', node));\n    renderer.render();\n    editor.editing.view.on('render', ()=>renderer.render());\n    // TODO: Cleanup after destruction.\n    editor.on('destroy', ()=>{\n        domConverter.unbindDomElement(domRootClone);\n    });\n    return domRootClone;\n}\n/**\n * Harvests all web page styles, for instance, to allow re-using them in an `<iframe>` preserving the look of the content.\n *\n * The returned data format is as follows:\n *\n * ```ts\n * [\n * \t'p { color: red; ... } h2 { font-size: 2em; ... } ...',\n * \t'.spacing { padding: 1em; ... }; ...',\n * \t'...',\n * \t{ href: 'http://link.to.external.stylesheet' },\n * \t{ href: '...' }\n * ]\n * ```\n *\n * **Note**: For stylesheets with `href` different than window origin, an object is returned because\n * accessing rules of these styles may cause CORS errors (depending on the configuration of the web page).\n *\n * @internal\n */ function getPageStyles() {\n    return Array.from(global.document.styleSheets).map((styleSheet)=>{\n        // CORS\n        if (styleSheet.href && !styleSheet.href.startsWith(global.window.location.origin)) {\n            return {\n                href: styleSheet.href\n            };\n        }\n        return Array.from(styleSheet.cssRules).filter((rule)=>!(rule instanceof CSSMediaRule)).map((rule)=>rule.cssText).join(' \\n');\n    });\n}\n/**\n * Gets dimensions rectangle according to passed DOM element. Returns whole window's size for `body` element.\n *\n * @internal\n */ function getDomElementRect(domElement) {\n    return new Rect(domElement === global.document.body ? global.window : domElement);\n}\n/**\n * Gets client height according to passed DOM element. Returns window's height for `body` element.\n *\n * @internal\n */ function getClientHeight(domElement) {\n    return domElement === global.document.body ? global.window.innerHeight : domElement.clientHeight;\n}\n/**\n * Returns the DOM element itself if it's not a `body` element, whole window otherwise.\n *\n * @internal\n */ function getScrollable(domElement) {\n    return domElement === global.document.body ? global.window : domElement;\n}\n\n/**\n * The content minimap feature.\n */ class Minimap extends Plugin {\n    /**\n\t * @inheritDoc\n\t */ static get pluginName() {\n        return 'Minimap';\n    }\n    /**\n\t * @inheritDoc\n\t */ static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n\t * The reference to the view of the minimap.\n\t */ _minimapView;\n    /**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */ _scrollableRootAncestor;\n    /**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */ _editingRootElement;\n    /**\n\t * @inheritDoc\n\t */ init() {\n        const editor = this.editor;\n        this._minimapView = null;\n        this._scrollableRootAncestor = null;\n        this.listenTo(editor.ui, 'ready', this._onUiReady.bind(this));\n    }\n    /**\n\t * @inheritDoc\n\t */ destroy() {\n        super.destroy();\n        this._minimapView.destroy();\n        this._minimapView.element.remove();\n    }\n    /**\n\t * Initializes the minimap view element and starts the layout synchronization\n\t * on the editing view `render` event.\n\t */ _onUiReady() {\n        const editor = this.editor;\n        // TODO: This will not work with the multi-root editor.\n        const editingRootElement = this._editingRootElement = editor.ui.getEditableElement();\n        this._scrollableRootAncestor = findClosestScrollableAncestor(editingRootElement);\n        // DOM root element is not yet attached to the document.\n        if (!editingRootElement.ownerDocument.body.contains(editingRootElement)) {\n            editor.ui.once('update', this._onUiReady.bind(this));\n            return;\n        }\n        this._initializeMinimapView();\n        this.listenTo(editor.editing.view, 'render', ()=>{\n            if (editor.state !== 'ready') {\n                return;\n            }\n            this._syncMinimapToEditingRootScrollPosition();\n        });\n        this._syncMinimapToEditingRootScrollPosition();\n    }\n    /**\n\t * Initializes the minimap view and attaches listeners that make it responsive to the environment (document)\n\t * but also allow the minimap to control the document (scroll position).\n\t */ _initializeMinimapView() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const useSimplePreview = editor.config.get('minimap.useSimplePreview');\n        // TODO: Throw an error if there is no `minimap` in config.\n        const minimapContainerElement = editor.config.get('minimap.container');\n        const scrollableRootAncestor = this._scrollableRootAncestor;\n        // TODO: This should be dynamic, the root width could change as the viewport scales if not fixed unit.\n        const editingRootElementWidth = getDomElementRect(this._editingRootElement).width;\n        const minimapContainerWidth = getDomElementRect(minimapContainerElement).width;\n        const minimapScaleRatio = minimapContainerWidth / editingRootElementWidth;\n        const minimapView = this._minimapView = new MinimapView({\n            locale,\n            scaleRatio: minimapScaleRatio,\n            pageStyles: getPageStyles(),\n            extraClasses: editor.config.get('minimap.extraClasses'),\n            useSimplePreview,\n            domRootClone: cloneEditingViewDomRoot(editor)\n        });\n        minimapView.render();\n        // Scrollable ancestor scroll -> minimap position update.\n        minimapView.listenTo(global.document, 'scroll', (evt, data)=>{\n            if (scrollableRootAncestor === global.document.body) {\n                if (data.target !== global.document) {\n                    return;\n                }\n            } else if (data.target !== scrollableRootAncestor) {\n                return;\n            }\n            this._syncMinimapToEditingRootScrollPosition();\n        }, {\n            useCapture: true,\n            usePassive: true\n        });\n        // Viewport resize -> minimap position update.\n        minimapView.listenTo(global.window, 'resize', ()=>{\n            this._syncMinimapToEditingRootScrollPosition();\n        });\n        // Dragging the visible content area -> document (scrollable) position update.\n        minimapView.on('drag', (evt, movementY)=>{\n            let movementYPercentage;\n            if (minimapView.scrollHeight === 0) {\n                movementYPercentage = 0;\n            } else {\n                movementYPercentage = movementY / minimapView.scrollHeight;\n            }\n            const absoluteScrollProgress = movementYPercentage * (scrollableRootAncestor.scrollHeight - getClientHeight(scrollableRootAncestor));\n            const scrollable = getScrollable(scrollableRootAncestor);\n            scrollable.scrollBy(0, Math.round(absoluteScrollProgress));\n        });\n        // Clicking the minimap -> center the document (scrollable) to the corresponding position.\n        minimapView.on('click', (evt, percentage)=>{\n            const absoluteScrollProgress = percentage * scrollableRootAncestor.scrollHeight;\n            const scrollable = getScrollable(scrollableRootAncestor);\n            scrollable.scrollBy(0, Math.round(absoluteScrollProgress));\n        });\n        minimapContainerElement.appendChild(minimapView.element);\n    }\n    /**\n\t * @private\n\t */ _syncMinimapToEditingRootScrollPosition() {\n        const editingRootElement = this._editingRootElement;\n        const minimapView = this._minimapView;\n        minimapView.setContentHeight(editingRootElement.offsetHeight);\n        const editingRootRect = getDomElementRect(editingRootElement);\n        const scrollableRootAncestorRect = getDomElementRect(this._scrollableRootAncestor);\n        let scrollProgress;\n        // It's possible that at some point elements do not intersect, e.g. when entering the fullscreen mode.\n        // Prevent the minimap from being updated in such case.\n        if (!scrollableRootAncestorRect.getIntersection(editingRootRect)) {\n            return;\n        }\n        // @if CK_DEBUG_MINIMAP // RectDrawer.clear();\n        // @if CK_DEBUG_MINIMAP // RectDrawer.draw( scrollableRootAncestorRect, { outlineColor: 'red' }, 'scrollableRootAncestor' );\n        // @if CK_DEBUG_MINIMAP // RectDrawer.draw( editingRootRect, { outlineColor: 'green' }, 'editingRoot' );\n        // The root is completely visible in the scrollable ancestor.\n        if (scrollableRootAncestorRect.contains(editingRootRect)) {\n            scrollProgress = 0;\n        } else {\n            if (editingRootRect.top > scrollableRootAncestorRect.top) {\n                scrollProgress = 0;\n            } else {\n                scrollProgress = (editingRootRect.top - scrollableRootAncestorRect.top) / (scrollableRootAncestorRect.height - editingRootRect.height);\n                scrollProgress = Math.max(0, Math.min(scrollProgress, 1));\n            }\n        }\n        // The intersection helps to change the tracker height when there is a lot of padding around the root.\n        // Note: It is **essential** that the height is set first because the progress depends on the correct tracker height.\n        minimapView.setPositionTrackerHeight(scrollableRootAncestorRect.getIntersection(editingRootRect).height);\n        minimapView.setScrollProgress(scrollProgress);\n    }\n}\n\nexport { Minimap };\n//# sourceMappingURL=index.js.map\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * @module minimap/minimapiframeview\n */\n\nimport { IframeView } from 'ckeditor5/src/ui.js';\nimport { toUnit, type Locale } from 'ckeditor5/src/utils.js';\nimport type { MinimapViewOptions } from './minimapview.js';\n\nconst toPx = /* #__PURE__ */ toUnit( 'px' );\n\n/**\n * The internal `<iframe>` view that hosts the minimap content.\n *\n * @internal\n */\nexport default class MinimapIframeView extends IframeView {\n\t/**\n\t * The CSS `top` used to scroll the minimap.\n\t *\n\t * @readonly\n\t */\n\tdeclare public top: number;\n\n\t/**\n\t * The CSS `height` of the iframe.\n\t *\n\t * @readonly\n\t */\n\tdeclare public height: number;\n\n\t/**\n\t * Cached view constructor options for re-use in other methods.\n\t */\n\tprivate readonly _options: MinimapViewOptions;\n\n\t/**\n\t * Creates an instance of the internal minimap iframe.\n\t */\n\tconstructor( locale: Locale, options: MinimapViewOptions ) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis.set( 'top', 0 );\n\n\t\tthis.set( 'height', 0 );\n\n\t\tthis._options = options;\n\n\t\tthis.extendTemplate( {\n\t\t\tattributes: {\n\t\t\t\ttabindex: -1,\n\t\t\t\t'aria-hidden': 'true',\n\t\t\t\tclass: [\n\t\t\t\t\t'ck-minimap__iframe'\n\t\t\t\t],\n\t\t\t\tstyle: {\n\t\t\t\t\ttop: bind.to( 'top', top => toPx( top ) ),\n\t\t\t\t\theight: bind.to( 'height', height => toPx( height ) )\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override render(): Promise<unknown> {\n\t\treturn super.render().then( () => {\n\t\t\tthis._prepareDocument();\n\t\t} );\n\t}\n\n\t/**\n\t * Sets the new height of the iframe.\n\t */\n\tpublic setHeight( newHeight: number ): void {\n\t\tthis.height = newHeight;\n\t}\n\n\t/**\n\t * Sets the top offset of the iframe to move it around vertically.\n\t */\n\tpublic setTopOffset( newOffset: number ): void {\n\t\tthis.top = newOffset;\n\t}\n\n\t/**\n\t * Sets the internal structure of the `<iframe>` readying it to display the\n\t * minimap element.\n\t */\n\tprivate _prepareDocument(): void {\n\t\tconst iframeDocument = this.element!.contentWindow!.document;\n\t\tconst domRootClone = iframeDocument.adoptNode( this._options.domRootClone );\n\n\t\tconst boxStyles = this._options.useSimplePreview ? `\n\t\t\t.ck.ck-editor__editable_inline img {\n\t\t\t\tfilter: contrast( 0 );\n\t\t\t}\n\n\t\t\tp, li, a, figcaption, span {\n\t\t\t\tbackground: hsl(0, 0%, 80%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 80%) !important;\n\t\t\t}\n\n\t\t\th1, h2, h3, h4 {\n\t\t\t\tbackground: hsl(0, 0%, 60%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 60%) !important;\n\t\t\t}\n\t\t` : '';\n\n\t\tconst pageStyles = this._options.pageStyles.map( definition => {\n\t\t\tif ( typeof definition === 'string' ) {\n\t\t\t\treturn `<style>${ definition }</style>`;\n\t\t\t} else {\n\t\t\t\treturn `<link rel=\"stylesheet\" type=\"text/css\" href=\"${ definition.href }\">`;\n\t\t\t}\n\t\t} ).join( '\\n' );\n\n\t\tconst html = `<!DOCTYPE html><html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t${ pageStyles }\n\t\t\t\t<style>\n\t\t\t\t\thtml, body {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tpadding: 0 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\thtml {\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\n\t\t\t\t\tbody {\n\t\t\t\t\t\ttransform: scale( ${ this._options.scaleRatio } );\n\t\t\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t\t\toverflow: visible;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-editor__editable_inline {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tborder-color: transparent !important;\n\t\t\t\t\t\toutline-color: transparent !important;\n\t\t\t\t\t\tbox-shadow: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-content {\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t}\n\n\t\t\t\t\t${ boxStyles }\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body class=\"${ this._options.extraClasses || '' }\"></body>\n\t\t</html>`;\n\n\t\tiframeDocument.open();\n\t\tiframeDocument.write( html );\n\t\tiframeDocument.close();\n\t\tiframeDocument.body.appendChild( domRootClone );\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * @module minimap/minimappositiontrackerview\n */\n\nimport { View } from 'ckeditor5/src/ui.js';\nimport { toUnit, global, type Locale } from 'ckeditor5/src/utils.js';\nimport type { MinimapDragEvent } from './minimapview.js';\n\nconst toPx = /* #__PURE__ */ toUnit( 'px' );\n\n/**\n * The position tracker visualizing the visible subset of the content. Displayed over the minimap.\n *\n * @internal\n */\nexport default class MinimapPositionTrackerView extends View {\n\t/**\n\t * The CSS `height` of the tracker visualizing the subset of the content visible to the user.\n\t *\n\t * @readonly\n\t */\n\tdeclare public height: number;\n\n\t/**\n\t * The CSS `top` of the tracker, used to move it vertically over the minimap.\n\t *\n\t * @readonly\n\t */\n\tdeclare public top: number;\n\n\t/**\n\t * The scroll progress (in %) displayed over the tracker when being dragged by the user.\n\t *\n\t * @readonly\n\t */\n\tdeclare public scrollProgress: number;\n\n\t/**\n\t * Indicates whether the tracker is being dragged by the user (e.g. using the mouse).\n\t *\n\t * @internal\n\t * @readonly\n\t */\n\tdeclare public _isDragging: boolean;\n\n\tconstructor( locale: Locale ) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis.set( 'height', 0 );\n\t\tthis.set( 'top', 0 );\n\t\tthis.set( 'scrollProgress', 0 );\n\t\tthis.set( '_isDragging', false );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-minimap__position-tracker',\n\t\t\t\t\tbind.if( '_isDragging', 'ck-minimap__position-tracker_dragging' )\n\t\t\t\t],\n\t\t\t\tstyle: {\n\t\t\t\t\ttop: bind.to( 'top', top => toPx( top ) ),\n\t\t\t\t\theight: bind.to( 'height', height => toPx( height ) )\n\t\t\t\t},\n\t\t\t\t'data-progress': bind.to( 'scrollProgress' )\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tmousedown: bind.to( () => {\n\t\t\t\t\tthis._isDragging = true;\n\t\t\t\t} )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override render(): void {\n\t\tsuper.render();\n\n\t\tthis.listenTo( global.document, 'mousemove', ( evt, data ) => {\n\t\t\tif ( !this._isDragging ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.fire<MinimapDragEvent>( 'drag', data.movementY );\n\t\t}, { useCapture: true } );\n\n\t\tthis.listenTo( global.document, 'mouseup', () => {\n\t\t\tthis._isDragging = false;\n\t\t}, { useCapture: true } );\n\t}\n\n\t/**\n\t * Sets the new height of the tracker to visualize the subset of the content visible to the user.\n\t */\n\tpublic setHeight( newHeight: number ): void {\n\t\tthis.height = newHeight;\n\t}\n\n\t/**\n\t * Sets the top offset of the tracker to move it around vertically.\n\t */\n\tpublic setTopOffset( newOffset: number ): void {\n\t\tthis.top = newOffset;\n\t}\n\n\t/**\n\t * Sets the scroll progress (in %) to inform the user using a label when the tracker is being dragged.\n\t */\n\tpublic setScrollProgress( newProgress: number ): void {\n\t\tthis.scrollProgress = newProgress;\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * @module minimap/minimapview\n */\n\nimport { View } from 'ckeditor5/src/ui.js';\nimport { Rect, type Locale } from 'ckeditor5/src/utils.js';\n\nimport MinimapIframeView from './minimapiframeview.js';\nimport MinimapPositionTrackerView from './minimappositiontrackerview.js';\n\nexport type MinimapViewOptions = {\n\tdomRootClone: HTMLElement;\n\tpageStyles: Array<string | { href: string }>;\n\tscaleRatio: number;\n\tuseSimplePreview?: boolean;\n\textraClasses?: string;\n};\n\n/**\n * The main view of the minimap. It renders the original content but scaled down with a tracker element\n * visualizing the subset of the content visible to the user and allowing interactions (scrolling, dragging).\n *\n * @internal\n */\nexport default class MinimapView extends View {\n\t/**\n\t * An instance of the tracker view displayed over the minimap.\n\t */\n\tprivate readonly _positionTrackerView: MinimapPositionTrackerView;\n\n\t/**\n\t * The scale ratio of the minimap relative to the original editing DOM root with the content.\n\t */\n\tprivate readonly _scaleRatio: number;\n\n\t/**\n\t * An instance of the iframe view that hosts the minimap.\n\t */\n\tprivate readonly _minimapIframeView: MinimapIframeView;\n\n\t/**\n\t * Creates an instance of the minimap view.\n\t */\n\tconstructor(\n\t\t{ locale, scaleRatio, pageStyles, extraClasses, useSimplePreview, domRootClone }: { locale: Locale } & MinimapViewOptions\n\t) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis._positionTrackerView = new MinimapPositionTrackerView( locale );\n\t\tthis._positionTrackerView.delegate( 'drag' ).to( this );\n\n\t\tthis._scaleRatio = scaleRatio;\n\n\t\tthis._minimapIframeView = new MinimapIframeView( locale, {\n\t\t\tuseSimplePreview,\n\t\t\tpageStyles,\n\t\t\textraClasses,\n\t\t\tscaleRatio,\n\t\t\tdomRootClone\n\t\t} );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-minimap'\n\t\t\t\t]\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\tthis._positionTrackerView\n\t\t\t],\n\t\t\ton: {\n\t\t\t\tclick: bind.to( this._handleMinimapClick.bind( this ) ),\n\t\t\t\twheel: bind.to( this._handleMinimapMouseWheel.bind( this ) )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override destroy(): void {\n\t\tthis._minimapIframeView.destroy();\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Returns the DOM {@link module:utils/dom/rect~Rect} height of the minimap.\n\t */\n\tpublic get height(): number {\n\t\treturn new Rect( this.element! ).height;\n\t}\n\n\t/**\n\t * Returns the number of available space (pixels) the position tracker (visible subset of the content) can use to scroll vertically.\n\t */\n\tpublic get scrollHeight(): number {\n\t\treturn Math.max( 0, Math.min( this.height, this._minimapIframeView.height ) - this._positionTrackerView.height );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override render(): void {\n\t\tsuper.render();\n\n\t\tthis._minimapIframeView.render();\n\n\t\tthis.element!.appendChild( this._minimapIframeView.element! );\n\t}\n\n\t/**\n\t * Sets the new height of the minimap (in px) to respond to the changes in the original editing DOM root.\n\t *\n\t * **Note**:The provided value should be the `offsetHeight` of the original editing DOM root.\n\t */\n\tpublic setContentHeight( newHeight: number ): void {\n\t\tthis._minimapIframeView.setHeight( newHeight * this._scaleRatio );\n\t}\n\n\t/**\n\t * Sets the minimap scroll progress.\n\t *\n\t * The minimap scroll progress is linked to the original editing DOM root and its scrollable container (ancestor).\n\t * Changing the progress will alter the vertical position of the minimap (and its position tracker) and give the user an accurate\n\t * overview of the visible document.\n\t *\n\t * **Note**: The value should be between 0 and 1. 0 when the DOM root has not been scrolled, 1 when the\n\t * scrolling has reached the end.\n\t */\n\tpublic setScrollProgress( newScrollProgress: number ): void {\n\t\tconst iframeView = this._minimapIframeView;\n\t\tconst positionTrackerView = this._positionTrackerView;\n\n\t\t// The scrolling should end when the bottom edge of the iframe touches the bottom edge of the minimap.\n\t\tif ( iframeView.height < this.height ) {\n\t\t\tiframeView.setTopOffset( 0 );\n\t\t\tpositionTrackerView.setTopOffset( ( iframeView.height - positionTrackerView.height ) * newScrollProgress );\n\t\t} else {\n\t\t\tconst totalOffset = iframeView.height - this.height;\n\n\t\t\tiframeView.setTopOffset( -totalOffset * newScrollProgress );\n\t\t\tpositionTrackerView.setTopOffset( ( this.height - positionTrackerView.height ) * newScrollProgress );\n\t\t}\n\n\t\tpositionTrackerView.setScrollProgress( Math.round( newScrollProgress * 100 ) );\n\t}\n\n\t/**\n\t * Sets the new height of the tracker (in px) to visualize the subset of the content visible to the user.\n\t */\n\tpublic setPositionTrackerHeight( trackerHeight: number ): void {\n\t\tthis._positionTrackerView.setHeight( trackerHeight * this._scaleRatio );\n\t}\n\n\t/**\n\t * @param data DOM event data\n\t */\n\tprivate _handleMinimapClick( data: Event ) {\n\t\tconst positionTrackerView = this._positionTrackerView;\n\n\t\tif ( data.target === positionTrackerView.element ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst trackerViewRect = new Rect( positionTrackerView.element! );\n\t\tconst diff = ( data as MouseEvent ).clientY - trackerViewRect.top - trackerViewRect.height / 2;\n\t\tconst percentage = diff / this._minimapIframeView.height;\n\n\t\tthis.fire<MinimapClickEvent>( 'click', percentage );\n\t}\n\n\t/**\n\t * @param data DOM event data\n\t */\n\tprivate _handleMinimapMouseWheel( data: Event ) {\n\t\tthis.fire<MinimapDragEvent>( 'drag', ( data as WheelEvent ).deltaY * this._scaleRatio );\n\t}\n}\n\n/**\n * Fired when the minimap view is clicked.\n *\n * @eventName ~MinimapView#click\n * @param percentage The number between 0 and 1 representing a place in the minimap (its height) that was clicked.\n */\nexport type MinimapClickEvent = {\n\tname: 'click';\n\targs: [ percentage: number ];\n};\n\n/**\n * Fired when the position tracker is dragged or the minimap is scrolled via mouse wheel.\n *\n * @eventName ~MinimapView#drag\n * @param movementY The vertical movement of the minimap as a result of dragging or scrolling.\n */\nexport type MinimapDragEvent = {\n\tname: 'drag';\n\targs: [ movementY: number ];\n};\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * @module minimap/utils\n */\n\nimport { Rect, global } from 'ckeditor5/src/utils.js';\nimport { DomConverter, Renderer } from 'ckeditor5/src/engine.js';\nimport type { Editor } from 'ckeditor5/src/core.js';\n\n/**\n * Clones the editing view DOM root by using a dedicated pair of {@link module:engine/view/renderer~Renderer} and\n * {@link module:engine/view/domconverter~DomConverter}. The DOM root clone updates incrementally to stay in sync with the\n * source root.\n *\n * @internal\n * @param editor The editor instance the original editing root belongs to.\n * @param rootName The name of the root to clone.\n * @returns The editing root DOM clone element.\n */\nexport function cloneEditingViewDomRoot( editor: Editor, rootName?: string ): HTMLElement {\n\tconst viewDocument = editor.editing.view.document;\n\tconst viewRoot = viewDocument.getRoot( rootName )!;\n\tconst domConverter = new DomConverter( viewDocument );\n\tconst renderer = new Renderer( domConverter, viewDocument.selection );\n\tconst domRootClone = editor.editing.view.getDomRoot()!.cloneNode() as HTMLElement;\n\n\tdomConverter.bindElements( domRootClone, viewRoot );\n\n\trenderer.markToSync( 'children', viewRoot );\n\trenderer.markToSync( 'attributes', viewRoot );\n\n\tviewRoot.on( 'change:children', ( evt, node ) => renderer.markToSync( 'children', node ) );\n\tviewRoot.on( 'change:attributes', ( evt, node ) => renderer.markToSync( 'attributes', node ) );\n\tviewRoot.on( 'change:text', ( evt, node ) => renderer.markToSync( 'text', node ) );\n\n\trenderer.render();\n\n\teditor.editing.view.on( 'render', () => renderer.render() );\n\n\t// TODO: Cleanup after destruction.\n\teditor.on( 'destroy', () => {\n\t\tdomConverter.unbindDomElement( domRootClone );\n\t} );\n\n\treturn domRootClone;\n}\n\n/**\n * Harvests all web page styles, for instance, to allow re-using them in an `<iframe>` preserving the look of the content.\n *\n * The returned data format is as follows:\n *\n * ```ts\n * [\n * \t'p { color: red; ... } h2 { font-size: 2em; ... } ...',\n * \t'.spacing { padding: 1em; ... }; ...',\n * \t'...',\n * \t{ href: 'http://link.to.external.stylesheet' },\n * \t{ href: '...' }\n * ]\n * ```\n *\n * **Note**: For stylesheets with `href` different than window origin, an object is returned because\n * accessing rules of these styles may cause CORS errors (depending on the configuration of the web page).\n *\n * @internal\n */\nexport function getPageStyles(): Array<string | { href: string }> {\n\treturn Array.from( global.document.styleSheets )\n\t\t.map( styleSheet => {\n\t\t\t// CORS\n\t\t\tif ( styleSheet.href && !styleSheet.href.startsWith( global.window.location.origin ) ) {\n\t\t\t\treturn { href: styleSheet.href };\n\t\t\t}\n\n\t\t\treturn Array.from( styleSheet.cssRules )\n\t\t\t\t.filter( rule => !( rule instanceof CSSMediaRule ) )\n\t\t\t\t.map( rule => rule.cssText )\n\t\t\t\t.join( ' \\n' );\n\t\t} );\n}\n\n/**\n * Gets dimensions rectangle according to passed DOM element. Returns whole window's size for `body` element.\n *\n * @internal\n */\nexport function getDomElementRect( domElement: HTMLElement ): Rect {\n\treturn new Rect( domElement === global.document.body ? global.window : domElement );\n}\n\n/**\n * Gets client height according to passed DOM element. Returns window's height for `body` element.\n *\n * @internal\n */\nexport function getClientHeight( domElement: HTMLElement ): number {\n\treturn domElement === global.document.body ? global.window.innerHeight : domElement.clientHeight;\n}\n\n/**\n * Returns the DOM element itself if it's not a `body` element, whole window otherwise.\n *\n * @internal\n */\nexport function getScrollable( domElement: HTMLElement ): Window | HTMLElement {\n\treturn domElement === global.document.body ? global.window : domElement;\n}\n","/**\n * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * @module minimap/minimap\n */\n\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { findClosestScrollableAncestor, global } from 'ckeditor5/src/utils.js';\nimport MinimapView, { type MinimapDragEvent, type MinimapClickEvent } from './minimapview.js';\nimport {\n\tcloneEditingViewDomRoot,\n\tgetClientHeight,\n\tgetDomElementRect,\n\tgetPageStyles,\n\tgetScrollable\n} from './utils.js';\n\n// @if CK_DEBUG_MINIMAP // const RectDrawer = require( '@ckeditor/ckeditor5-utils/tests/_utils/rectdrawer' ).default;\n\nimport '../theme/minimap.css';\n\n/**\n * The content minimap feature.\n */\nexport default class Minimap extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic static get pluginName() {\n\t\treturn 'Minimap' as const;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic static override get isOfficialPlugin(): true {\n\t\treturn true;\n\t}\n\n\t/**\n\t * The reference to the view of the minimap.\n\t */\n\tprivate _minimapView!: MinimapView | null;\n\n\t/**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */\n\tprivate _scrollableRootAncestor!: HTMLElement | null;\n\n\t/**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */\n\tprivate _editingRootElement?: HTMLElement;\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic init(): void {\n\t\tconst editor = this.editor;\n\t\tthis._minimapView = null;\n\t\tthis._scrollableRootAncestor = null;\n\n\t\tthis.listenTo( editor.ui, 'ready', this._onUiReady.bind( this ) );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override destroy(): void {\n\t\tsuper.destroy();\n\n\t\tthis._minimapView!.destroy();\n\t\tthis._minimapView!.element!.remove();\n\t}\n\n\t/**\n\t * Initializes the minimap view element and starts the layout synchronization\n\t * on the editing view `render` event.\n\t */\n\tprivate _onUiReady(): void {\n\t\tconst editor = this.editor;\n\n\t\t// TODO: This will not work with the multi-root editor.\n\t\tconst editingRootElement = this._editingRootElement = editor.ui.getEditableElement()!;\n\n\t\tthis._scrollableRootAncestor = findClosestScrollableAncestor( editingRootElement );\n\n\t\t// DOM root element is not yet attached to the document.\n\t\tif ( !editingRootElement.ownerDocument.body.contains( editingRootElement ) ) {\n\t\t\teditor.ui.once( 'update', this._onUiReady.bind( this ) );\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis._initializeMinimapView();\n\n\t\tthis.listenTo( editor.editing.view, 'render', () => {\n\t\t\tif ( editor.state !== 'ready' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t\t} );\n\n\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t}\n\n\t/**\n\t * Initializes the minimap view and attaches listeners that make it responsive to the environment (document)\n\t * but also allow the minimap to control the document (scroll position).\n\t */\n\tprivate _initializeMinimapView(): void {\n\t\tconst editor = this.editor;\n\t\tconst locale = editor.locale;\n\t\tconst useSimplePreview = editor.config.get( 'minimap.useSimplePreview' );\n\n\t\t// TODO: Throw an error if there is no `minimap` in config.\n\t\tconst minimapContainerElement = editor.config.get( 'minimap.container' )!;\n\t\tconst scrollableRootAncestor = this._scrollableRootAncestor!;\n\n\t\t// TODO: This should be dynamic, the root width could change as the viewport scales if not fixed unit.\n\t\tconst editingRootElementWidth = getDomElementRect( this._editingRootElement! ).width;\n\t\tconst minimapContainerWidth = getDomElementRect( minimapContainerElement ).width;\n\t\tconst minimapScaleRatio = minimapContainerWidth / editingRootElementWidth;\n\n\t\tconst minimapView = this._minimapView = new MinimapView( {\n\t\t\tlocale,\n\t\t\tscaleRatio: minimapScaleRatio,\n\t\t\tpageStyles: getPageStyles(),\n\t\t\textraClasses: editor.config.get( 'minimap.extraClasses' ),\n\t\t\tuseSimplePreview,\n\t\t\tdomRootClone: cloneEditingViewDomRoot( editor )\n\t\t} );\n\n\t\tminimapView.render();\n\n\t\t// Scrollable ancestor scroll -> minimap position update.\n\t\tminimapView.listenTo( global.document, 'scroll', ( evt, data ) => {\n\t\t\tif ( scrollableRootAncestor === global.document.body ) {\n\t\t\t\tif ( data.target !== global.document ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if ( data.target !== scrollableRootAncestor ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t\t}, { useCapture: true, usePassive: true } );\n\n\t\t// Viewport resize -> minimap position update.\n\t\tminimapView.listenTo( global.window, 'resize', () => {\n\t\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t\t} );\n\n\t\t// Dragging the visible content area -> document (scrollable) position update.\n\t\tminimapView.on<MinimapDragEvent>( 'drag', ( evt, movementY ) => {\n\t\t\tlet movementYPercentage;\n\n\t\t\tif ( minimapView.scrollHeight === 0 ) {\n\t\t\t\tmovementYPercentage = 0;\n\t\t\t} else {\n\t\t\t\tmovementYPercentage = movementY / minimapView.scrollHeight;\n\t\t\t}\n\n\t\t\tconst absoluteScrollProgress = movementYPercentage *\n\t\t\t\t( scrollableRootAncestor.scrollHeight - getClientHeight( scrollableRootAncestor ) );\n\t\t\tconst scrollable = getScrollable( scrollableRootAncestor );\n\n\t\t\tscrollable.scrollBy( 0, Math.round( absoluteScrollProgress ) );\n\t\t} );\n\n\t\t// Clicking the minimap -> center the document (scrollable) to the corresponding position.\n\t\tminimapView.on<MinimapClickEvent>( 'click', ( evt, percentage ) => {\n\t\t\tconst absoluteScrollProgress = percentage * scrollableRootAncestor.scrollHeight;\n\t\t\tconst scrollable = getScrollable( scrollableRootAncestor );\n\n\t\t\tscrollable.scrollBy( 0, Math.round( absoluteScrollProgress ) );\n\t\t} );\n\n\t\tminimapContainerElement.appendChild( minimapView.element! );\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate _syncMinimapToEditingRootScrollPosition(): void {\n\t\tconst editingRootElement = this._editingRootElement!;\n\t\tconst minimapView = this._minimapView!;\n\n\t\tminimapView.setContentHeight( editingRootElement.offsetHeight );\n\n\t\tconst editingRootRect = getDomElementRect( editingRootElement );\n\t\tconst scrollableRootAncestorRect = getDomElementRect( this._scrollableRootAncestor! );\n\t\tlet scrollProgress;\n\n\t\t// It's possible that at some point elements do not intersect, e.g. when entering the fullscreen mode.\n\t\t// Prevent the minimap from being updated in such case.\n\t\tif ( !scrollableRootAncestorRect.getIntersection( editingRootRect ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// @if CK_DEBUG_MINIMAP // RectDrawer.clear();\n\t\t// @if CK_DEBUG_MINIMAP // RectDrawer.draw( scrollableRootAncestorRect, { outlineColor: 'red' }, 'scrollableRootAncestor' );\n\t\t// @if CK_DEBUG_MINIMAP // RectDrawer.draw( editingRootRect, { outlineColor: 'green' }, 'editingRoot' );\n\n\t\t// The root is completely visible in the scrollable ancestor.\n\t\tif ( scrollableRootAncestorRect.contains( editingRootRect ) ) {\n\t\t\tscrollProgress = 0;\n\t\t} else {\n\t\t\tif ( editingRootRect.top > scrollableRootAncestorRect.top ) {\n\t\t\t\tscrollProgress = 0;\n\t\t\t} else {\n\t\t\t\tscrollProgress = ( editingRootRect.top - scrollableRootAncestorRect.top ) /\n\t\t\t\t\t( scrollableRootAncestorRect.height - editingRootRect.height );\n\n\t\t\t\tscrollProgress = Math.max( 0, Math.min( scrollProgress, 1 ) );\n\t\t\t}\n\t\t}\n\n\t\t// The intersection helps to change the tracker height when there is a lot of padding around the root.\n\t\t// Note: It is **essential** that the height is set first because the progress depends on the correct tracker height.\n\t\tminimapView.setPositionTrackerHeight( scrollableRootAncestorRect.getIntersection( editingRootRect )!.height );\n\t\tminimapView.setScrollProgress( scrollProgress );\n\t}\n}\n"]}